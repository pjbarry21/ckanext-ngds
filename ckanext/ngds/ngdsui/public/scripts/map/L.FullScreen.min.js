L.FullScreen=L.Control.extend({options:{position:"topright",title:"FullScreen",forceSeparateButton:false},onAdd:function(b){var a=L.DomUtil.create("div","leaflet-control-fullscreen-container");this._createButton(this.options.title,"leaflet-control-fullscreen",a,this.full_screen,this);return a},_createButton:function(f,d,a,c,b){var e=L.DomUtil.create("a",d,a);e.href="#";e.title=f;L.DomEvent.addListener(e,"click",L.DomEvent.stopPropagation).addListener(e,"click",L.DomEvent.preventDefault).addListener(e,"click",c,b);return e},get_state:function(){if(typeof this.fs_state==="undefined"){this.fs_state=false}return this.fs_state},set_state:function(a){this.fs_state=a},request_fs:function(a){if(typeof a.webkitRequestFullScreen!=="undefined"){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);return}if(typeof a.mozRequestFullScreen!=="undefined"){a.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);return}},cancel_fs:function(){if(typeof document.webkitCancelFullScreen!=="undefined"){document.webkitCancelFullScreen();return}if(typeof document.mozCancelFullScreen!=="undefined"){document.mozCancelFullScreen();return}},is_full_screen:function(){if(typeof el.webkitRequestFullScreen!=="undefined"){return document.webkitIsFullScreen}if(typeof el.mozRequestFullScreen!=="undefined"){return document.mozIsFullScreen}},is_fs_supported:function(){if(typeof document.webkitIsFullScreen==="undefined"&&typeof document.mozCancelFullScreen==="undefined"){return false}return true},full_screen:function(){if(this.is_fs_supported()===false){return}this.fs=this.get_state();if(this.fs===true){this.cancel_fs();$("#map-container").removeClass("fullscreen");ngds.Map.map.invalidateSize();this.set_state(false)}else{this.request_fs($("#content-container")[0]);$("#map-container").addClass("fullscreen");ngds.Map.map.invalidateSize();this.set_state(true);var b=this;var a=setInterval(function(){if(document.webkitIsFullScreen===false){b.set_state(false);$("#map-container").removeClass("fullscreen");ngds.Map.map.invalidateSize();clearInterval(a)}},500)}}});