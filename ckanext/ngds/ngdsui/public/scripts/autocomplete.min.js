var ngds=ngds||{};ngds.autocomplete=function(e,h,d,g,c){var b=$(e);var g=g;var c=c;var f=$(b).autocomplete({source:function(j,i){var k={};k[d]=j.term;$.getJSON(h,k,i)},response:function(i,j){$.each(j.content,function(k,o){var m=(o[c]!==null&&typeof o[c]!=="undefined");if(m){if(g instanceof Array){var n=[];for(var l=0;l<g.length;l++){n.push(o[g[l]])}o.label=n.join(" - ")}else{o.label=o[g]}o.value=o[c]}else{console.log("Got null/undefined value for call :",request)}})}});auto=f;var a=[];f.on("autocompleteselect",function(i,j){console.log("proxying");$.each(a,function(k,l){if(typeof l.value_key==="function"){l.value_key(j.item);return}$(l.proxy).val(j.item[l.value_key])})});return{autocomplete:f,proxy:function(j,i){a.push({proxy:j,value_key:i})}}};